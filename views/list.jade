extends ../node_modules/jade-bootstrap/_bootstrap

block body
    +navbar("Colenso Project", "dropdown_menu")
        +nav_item("/") Home
        +nav_item("list", "active") File Explorer
    .container
        h1=title
        - var indexOfLast = path.lastIndexOf("/");
        - var prevDir = path.substring(0,indexOfLast);
        -var wholePath = path+"/"+place;
        -var dirList = path.split("/");
        -var temp = "";
        ol.breadcrumb
            each dir in dirList
                - temp = temp + dir+ '/';

                li: a(href='/list?place=/'+temp) #{dir}
        if prevDir != ""
            a(href='/list?place=/' + prevDir + '/')
                +icon("level-up")

    .container
        ul
            each val in place
                - var extension = val.split('.').pop();
                - if(extension.length == 4){ extension = extension.slice(0,3); }
                - var test = extension.length;
                //-var extension = val.slice(-4,-1);
                - var isXML = "xml"===extension;
                    //p #{val}  #{extension}  #{isXML} #{test}
                    if extension == "xml"
                        //goto another page
                        li: a(href='/viewDoc?doc=/'+path+'/'+val) #{val}
                        //li: a(href='/') !{val} #{typeOfVal} #{extension}
                    else
                        li: a(href='/list?place=/'+path+'/'+val) #{val}
                        //#{typeOfVal} #{extension}
